# Гришунин Toolkit

Инструменты для обработки и транскрибации записей лекций по философии им. С. И. Гришунина.

## Краткий обзор

Toolkit делится на 4 части:

* audio_processing
* text_processing
* openai-whisper
* functions

Подробная информация о конкретных функциях — в их документации (на русском языке).

Примеры использования функций находятся в Jupyter-блокнотах `cookbook_*.ipynb`.

### audio_processing

* `make_sample` — делает отрезок указанного размера из аудиозаписи
* `denoise_audio` — производит ослабление шума на записи.
* `convert_m4a_to_mp3` — преобразует аудио из формата .m4a в формат .mp3
* `extract_channel` — извлекает отдельный канал (например, левый или правый) из аудиозаписи.

* `pedalboard_processing` — применяет цепочку эффектов к аудиофайлу.
  
Стандартный функционал последней функции приурочен к нормализации и фильтрованию нижних частот, но может быть довольно легко расширен вплоть до обработки кастомными VST3-плагинами.

### text_processing

Набор функций для предобработки готовых текстовых данных. Исходное назначение — fine-tuning модели whisper (= подстройка нейросети под лексикон Профессора Философии).

* `import_pdf_text` — извлекает текст из .pdf-файла (постранично). 
* `clean_text` — чистит текст от лишних символов и конструкций (Привет, pdf!). Четыре режима работы: от bypass до агрессивной чистки текста.
* `import_text`, `export_text` — импорт и экспорт текста из .txt
* `text_preprocess` — для очистки текста прямо из .txt (импорт уже внутри)

### openai-whisper

* `cookbook-whisper` — прокладывает путь от аудио до транскрипта (стоит запастись GPU). 

В файле `whisper_transcribe.md` лежит перевод отрывка документации Whisper, относящийся к model.transcribe(). 

Может быть интересно поэкспериментировать с параметрами, чтобы получить лучший результат. 

### functions

Сборник полезных утилитарных функций, не имеющих непосредственного отношения к обработке аудио.

* `change_name` — меняет имя файла: может добавить префикс или суффикс, сменить расширение или само имя.
* `change_folder_name` — меняет путь к одной папке на путь к другой. Полезно при сохранении файлов в отдельную папку.
* `process_folder` — функция для пакетной обработки файлов из одной папки одной функцией. Крайне полезна при денойзинге/обработке десятка лекций за раз.
* `parse_time` — парсит строку со временем вида "1h10m10s10ms". Полезна при обрезке аудио.
* `move_files` — полностью перемещает файлы из одной папки в другую. Иногда бывает полезной.

## Материалы для обработки

Любезно предоставлены неназванными студентами ФФ МГУ.
